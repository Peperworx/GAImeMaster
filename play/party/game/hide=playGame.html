<html>

<head>

    <link rel="stylesheet" href="/static/bootstrap-4.3.1-dist/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/w3.css">
    <title>play | gAImeMaster</title>
    <link rel="stylesheet" href="/static/noty/lib/noty.css">
    <link rel="stylesheet" href="/static/noty/lib/themes/metroui.css" />
    <link rel="stylesheet" href="/static/noty/lib/themes/mint.css" />
    <link rel="stylesheet" href="/static/jquery-ui/jquery-ui.min.css">
    <style>
        html,
        body {
            margin: 0;
            height: 100%;
            width: 100%;
        }
        
        #chat {
            list-style: none;
            padding: 1px;
            width: 100%;
            height: 70%;
            overflow: scroll;
        }
        
        .welcome {
            font-size: 1em;
            width: 100%;
        }
        
        #chatform {
            width: 100%;
            top: 100%;
            bottom: 0px;
        }
        
        #chatbox {
            width: 100%;
        }
        
        #chatContainer {
            background-color: white;
            width: 35%;
            min-width: 20%;
            margin: 2px;
            height: 50%;
            min-height: 50%;
            resize: both;
            overflow: auto;
            border: 2px solid lightgray;
        }
        
        #partyStatus {
            background-color: white;
            width: 20%;
            min-width: 20%;
            margin: 2px;
            height: 50%;
            min-height: 50%;
            resize: both;
            overflow: auto;
            border: 2px solid lightgray;
            max-width: 100vw!important;
        }
        
        #settingsPanel {
            background-color: white;
            width: 20%;
            min-width: 20%;
            margin: 2px;
            height: 50%;
            min-height: 50%;
            resize: both;
            overflow: auto;
            border: 2px solid lightgray;
        }
        
        #characterSheet {
            background-color: white;
            width: 20%;
            min-width: 20%;
            margin: 2px;
            height: 50%;
            min-height: 50%;
            resize: both;
            overflow: auto;
            border: 2px solid lightgray;
        }
        
        .username {
            margin-right: 5px;
        }
        
        .bar:after {
            content: "\007C";
        }
        
        .message {
            margin-left: 5px;
        }
        
        #chatHeader {
            padding-bottom: 5px;
            border-bottom: 1px solid lightgray;
        }
        
        #partyHeader {
            padding-bottom: 5px;
            border-bottom: 1px solid lightgray;
        }
        
        #settingsHeader {
            padding-bottom: 5px;
            border-bottom: 1px solid lightgray;
        }
        
        #charHeader {
            padding-bottom: 5px;
            border-bottom: 1px solid lightgray;
        }
        
        #mainrow {
            height: 100%;
        }
        
        #players {
            list-style: none;
        }
        
        #players li {
            padding: 5px;
        }
        
        #players li .playeruname {
            margin-right: 2px;
            display: none;
        }
        
        .charactername {
            padding-left: 5px;
        }
        
        .charactername::after {
            content: "  ";
        }
        
        ins {
            color: #777;
            text-decoration: none
        }
        
        .nopad {
            padding: 0px;
            margin: 0px;
        }
        
        #settings {
            padding: 1px;
            width: 100%;
            height: 70%;
            overflow: scroll;
        }
    </style>
</head>

<body onunload="ex()">
    <div class="container-fluid">
        <div id="mainrow" class="row">
            <div id="chatContainer" class="col-">
                <h4 id="chatHeader" class="w3-center">Chat</h4>
                <ul id="chat" class="">
                    <chat v-for="item in messages" v-bind:message="item" v-bind:key="item.id">
                    </chat>
                </ul>
                <form id="chatform">
                    <input type="text" id="chatbox" placeholder="Type your message here...">
                </form>
            </div>
            <div id="partyStatus" class="col-">
                <h4 id="partyHeader" class="w3-center">Party Status</h4>
                <ul id="players" class="">

                </ul>
            </div>
            <div id="characterSheet" class="col-">
                <h4 id="charHeader" class="w3-center">Character Sheet</h4>
                <ul id="players" class="">
                    <h5><b>Name:</b> &nbsp;<span class="charname"></span></h5>
                    <p class="nopad"><b>Class:</b> <span class="class"></span></p>
                    <p class="nopad"><b>Alignment:</b> <span class="align"></span></p>
                    <p class="nopad"><b>Level:</b> <span class="lvl"></span></p>
                    <br>
                    <p class="nopad">Strength: <span class="str"></span></p>
                    <p class="nopad">Dexterity: <span class="dex"></span></p>
                    <p class="nopad">Intelegence: <span class="int"></span></p>
                    <p class="nopad">Wisdom: <span class="wis"></span></p>
                    <p class="nopad">Constituaion: <span class="con"></span></p>
                    <p class="nopad">Charisma: <span class="cha"></span></p>
                </ul>
            </div>
            <br>

            <div id="settingsPanel" class="col-">
                <h4 id="settingsHeader" class="w3-center">Options</h4>
                <div>
                    <a href="/play" class="w3-button w3-black w3-hover-grey">Home</a>
                    <button class="w3-button w3-black w3-hover-grey" onclick="toggleFullScreen(body)">Fullscreen</button>
                </div>
            </div>
        </div>
        <p>Name: <input type="text" ng-model="name"></p>
        <p ng-bind="test"></p>
    </div>

    <script src="/static/jquery.js"></script>
    <script src="/static/js.cookie-2.2.0.min.js"></script>
    <script src="/static/bootstrap-4.3.1-dist/js/bootstrap.js"></script>
    <script src="/static/noty/lib/noty.js"></script>
    <script src="/static/bootbox.all.min.js"></script>
    <script src="/static/socket.io.js"></script>
    <script src="/static/jquery-ui/jquery-ui.min.js"></script>
    <script src="/static/touchpunch.js"></script>
    <script src="/static/jquery.scrollTo.min.js"></script>
    <script src="/static/vue.js"></script>
    <script src="util.js"></script>
    <script>
        var players = []
        var id = "{{ id }}";
        var character = {}
        var charid = findGetParameter("charid")
        var name = Cookies.get("username")
        var inCombat = false;

        function ex() {
            //socket.emit("disconnect");
        }

        Vue.component('chat', {
            props: ['message'],
            template: "<li class='chatItem'><span class='username'>[[message.uname]]</span><span class='bar'></span><span class='message'>[[message.contents]]</span></li>",
            delimiters: ['[[', ']]']

        })
        var chat = new Vue({
            el: '#chat',
            data: {
                messages: [{
                    "uname": "server",
                    "contents": "Welcome to chat!"
                }]
            },
            delimiters: ['[[', ']]']
        })
    </script>
</body>

</html>